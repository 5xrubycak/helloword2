<div class='nested-fields'>
  <div class="row">
    <div class="col-6">

      <%= f.object_name %>

      <%# <%= form_tag_id(f.object_name, :card_word) %> 

      <%= f.input :card_word , label: false, placeholder: t('.單詞：apple') %>
    </div>
    <div class="col-5">
      <%= f.input :card_def, label: false, placeholder: t('.定義：蘋果') %>
    </div>
    <div class="col-1 p-1">
      <%= link_to_remove_association "X", f, class: 'btn btn-sm btn-danger' %>
    </div>
  </div>
</div>



<%#= link_to "Ajax Start", lookup_setboxes_path(aa: 456), id: "ajax", remote: true %>

<%= link_to "Ajax Start", lookup_setboxes_path(aa: 456, word_id: form_tag_id(f.object_name, :card_word)), id: "ajax", remote: true %>

<%#= link_to "Ajax Start", lookup_setboxes_path(aa: 456, word_id: form_tag_id(f.object_name, :card_word), def_id: form_tag_id(f.object_name, :card_def)), id: "ajax", remote: true %>

<script>
$( document ).ready(function() {

  var card_word_id = '<%= form_tag_id(f.object_name, :card_word) %>'
  var card_def_id = '<%= form_tag_id(f.object_name, :card_def) %>'

  console.log('<%= f.object_name %>')  
  // console.log(card_word_id);
  // console.log(card_def_id);
  // console.log("_card_field.html.erb");

  
// url.replace(/aa=(\w+)&?/, 'aa=456')
  $(`#${card_word_id}`).on('change', function(){
    console.log("_card_field.html.erb_INSIDE");
    $('#ajax').attr('href', '/helloword/lookup?aa='+$(`#${card_word_id}`).val());

    $("#ajax").click();
      
  });
});

  // document.querySelectorAll('.english').forEach((btn, index) => {
  //   btn.addEventListener('click', (event) => {
  //     const id = event.target.tagName.toLowerCase() != 'button' ? event.target.parentNode.value : event.target.value;
  //     const value = document.querySelector(`#english-${id}`).innerText;
  //     speak('en-US', 'Alex', value);
  // }, false);
  // })


</script>

